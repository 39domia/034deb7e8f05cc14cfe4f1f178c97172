<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        tr > td {
            width: 50px;
            height: 50px;
        }
        input {
            width: 30px;
            height: 30px;
        }
        #iInput {
            width: 90%;
            height: 20px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    
    <table>
        <thead>
            <tr>
                <td colspan="4">
                    <div id="iInput">
                </td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><input id="b1" type="button" value="1"></td>
                <td><input id="b2" type="button" value="2"></td>
                <td><input id="b3" type="button" value="3"></td>
                <td><input id="bAdd" type="button" value="+"></td>
            </tr>
            <tr>
                <td><input id="b4" type="button" value="4"></td>
                <td><input id="b5" type="button" value="5"></td>
                <td><input id="b6" type="button" value="6"></td>
                <td><input id="bSub" type="button" value="-"></td>
            </tr>
            <tr>
                <td><input id="b7" type="button" value="7"></td>
                <td><input id="b8" type="button" value="8"></td>
                <td><input id="b9" type="button" value="9"></td>
                <td><input id="bMul" type="button" value="x"></td>
            </tr>
            <tr>
                <td><input id="bClear" type="button" value="C"></td>
                <td><input id="b0" type="button" value="0"></td>
                <td><input id="bEqual" type="button" value="="></td>
                <td><input id="bDiv" type="button" value="/"></td>
            </tr>
        </tbody>
    </table>

    <script>
        let b1 = document.getElementById("b1");
        let b2 = document.getElementById("b2");
        let b3 = document.getElementById("b3");
        let b4 = document.getElementById("b4");
        let b5 = document.getElementById("b5");
        let b6 = document.getElementById("b6");
        let b7 = document.getElementById("b7");
        let b8 = document.getElementById("b8");
        let b9 = document.getElementById("b9");
        let b0 = document.getElementById("b0");
        let bAdd = document.getElementById("bAdd");
        let bSub = document.getElementById("bSub");
        let bMul = document.getElementById("bMul");
        let bDiv = document.getElementById("bDiv");
        let bEqual = document.getElementById("bEqual");
        let bClear = document.getElementById("bClear");

        b1.addEventListener("click", b1Click);
        b2.addEventListener("click", b2Click);
        b3.addEventListener("click", b3Click);
        b4.addEventListener("click", b4Click);
        b5.addEventListener("click", b5Click);
        b6.addEventListener("click", b6Click);
        b7.addEventListener("click", b7Click);
        b8.addEventListener("click", b8Click);
        b9.addEventListener("click", b9Click);
        bAdd.addEventListener("click", bAddClick);
        bSub.addEventListener("click", bSubClick);
        bMul.addEventListener("click", bMulClick);
        bDiv.addEventListener("click", bDivClick);
        bEqual.addEventListener("click", bEqualClick);
        bClear.addEventListener("click", bClearClick);

        var saveInput = [];
        var stackInput = [];
        var saveInput2 = [];
        var saveInputFinal = [];
        var convertSaveInput;
        var math;

        function convertInt(str) {
            return parseInt(str);
        }

        function b1Click(){
            stackInput.push(1);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;

        }
        function b2Click(){
            stackInput.push(2);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;

        }
        function b3Click(){
            stackInput.push(3);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b4Click(){
            stackInput.push(4);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b5Click(){
            stackInput.push(5);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b6Click(){
            stackInput.push(6);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b7Click(){
            stackInput.push(7);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b8Click(){
            stackInput.push(8);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b9Click(){
            stackInput.push(9);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }
        function b0Click(){
            stackInput.push(0);       
            saveInput = stackInput.join('');
            convertSaveInput = convertInt(saveInput);  
            saveInput2 = [];
            saveInput2.push(convertSaveInput)
            iInput.innerHTML = saveInput;
        }


        function bAddClick() {
            math = 1
            saveInputFinal.push(convertSaveInput)
            stackInput = [];
            saveInput = [];
            if(saveInputFinal.length == 2){
                saveInputFinal[0] = saveInputFinal[0] + saveInputFinal[1];
                saveInputFinal.pop();
                iInput.innerHTML = saveInputFinal[0];

            }
        } 
        function bSubClick() {
            math = 2
            saveInputFinal.push(convertSaveInput)
            stackInput = [];
            saveInput = [];
            if(saveInputFinal.length == 2){
                saveInputFinal[0] = saveInputFinal[0] - saveInputFinal[1];
                saveInputFinal.pop();
                iInput.innerHTML = saveInputFinal[0];

            }
        }
        function bMulClick(){
            math = 3
            saveInputFinal.push(convertSaveInput)
            stackInput = [];
            saveInput = [];
            if(saveInputFinal.length == 2){
                saveInputFinal[0] = saveInputFinal[0] * saveInputFinal[1];
                saveInputFinal.pop();
                iInput.innerHTML = saveInputFinal[0];

            }
        }
        function bDivClick(){
            math = 4
            saveInputFinal.push(convertSaveInput)
            stackInput = [];
            saveInput = [];
            if(saveInputFinal.length == 2){
                saveInputFinal[0] = saveInputFinal[0] / saveInputFinal[1];
                saveInputFinal.pop();
                iInput.innerHTML = saveInputFinal[0];

            }
        }

        function bEqualClick(){
            switch (math) {
                case 1:
                    bAddClick()
                    math = 0;
                    break;
                case 2:
                    bSubClick()
                    math = 0;
                    break;
                case 3:
                    bMulClick()
                    math = 0;
                    break;
                case 4:
                    bDivClick()
                    math = 0;
                    break;
                default:
                    break;
            }
            stackInput = [];
            saveInput = [];
            saveInputFinal = [];

        }
        
        function bClearClick(){
            stackInput = [];
            saveInput = [];
            saveInputFinal = [];
            iInput.innerHTML = "";
        }
    </script>
</body>
</html>